<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Underscore.js: Rearranging Collections</title>
  </head>

  <body>

    <p>Rearranging Collections</p>

    <script src="js/underscore-min.js"></script>
    <script>

      var national_league = [
        {
          name: "Arizona Diamondbacks",
          wins: 81,
          losses: 81,
          division: "west"
        },
        {
          name: "Atlanta Braves",
          wins: 94,
          losses: 68,
          division: "east"
        },
        {
          name: "Chicago Cubs",
          wins: 61,
          losses: 101,
          division: "central"
        },
        {
          name: "Cincinnati Reds",
          wins: 97,
          losses: 65,
          division: "central"
        },
        {
          name: "Colorado Rockies",
          wins: 64,
          losses: 98,
          division: "west"
        },
        {
          name: "Houston Astros",
          wins: 55,
          losses: 107,
          division: "central"
        },
        {
          name: "Los Angeles Dodgers",
          wins: 86,
          losses: 76,
          division: "west"
        },
        {
          name: "Miami Marlins",
          wins: 69,
          losses: 93,
          division: "east"
        },
        {
          name: "Milwaukee Brewers",
          wins: 83,
          losses: 79,
          division: "central"
        },
        {
          name: "New York Mets",
          wins: 74,
          losses: 88,
          division: "east"
        },
        {
          name: "Philadelphia Phillies",
          wins: 81,
          losses: 81,
          division: "east"
        },
        {
          name: "Pittsburgh Pirates",
          wins: 79,
          losses: 83,
          division: "central"
        },
        {
          name: "San Diego Padres",
          wins: 76,
          losses: 86,
          division: "west"
        },
        {
          name: "San Francisco Giants",
          wins: 94,
          losses: 68,
          division: "west"
        },
        {
          name: "St. Louis Cardinals",
          wins: 88,
          losses: 74,
          division: "central"
        },
        {
          name: "Washington Nationals",
          wins: 98,
          losses: 64,
          division: "east"
        }
      ];


      var sorted_by_wins = _(national_league).sortBy(
        function(team) {
          return team.wins;
        }
      );

      // .sortBy() reorders a collection based on criteria given, from
      // the lowest to highest values


      var grouped_by_division = _(national_league).groupBy("division");

      // .groupBy() returns an object grouping related items by the
      // argument provided


      var teams_per_division = _(national_league).countBy("division");

      // .countBy() returns an object with a count of items in each
      // group based on the argument provided.


      var teams_above_500 = _(national_league).countBy(
        function(team) {
          return team.wins > 81;
        }
      );

      // NOTE: both .groupBy() and .countBy() accept functions as
      // criteria if a lone property value is not enough to provide
      // the results you seek


      var random = _(national_league).shuffle();

      // .shuffle() ... mass chaos!

    </script>
  </body>
</html>
